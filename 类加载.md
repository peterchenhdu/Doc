#Java类加载机制

##四类加载器

* 启动类加载器：加载JAVA_HOME\lib路径下的类
* 扩展类加载器：记载JAVA_HOME\ext路径下的类
* 应用程序类加载器：加载CLASSPATH路径下的类
* 自定义加载器：加载自定义类

##双亲委派机制
* 定义：每次收到类加载请求时，会先将请求委派给父类加载器去完成（所有加载请求最终会委派到顶层的
Bootstrap ClassLoader加载器中），如果父类加载器无法完成这个加载（即在该加载器的搜索范围中没有找到
对应的类），则让子类尝试自己加载。  
* 好处：避免重复加载


##类加载过程
* 加载：读取二进制字节流...
* 链接（验证、准备、解析）：分配静态空间...
* 初始化：初始化值...

##自定义类加载器
* 继承ClassLoader，覆盖findClass方法（即指明如何获取类的字节码流）；
* 如果要破坏双亲委派机制，可以覆盖loadClass方法；

##自定义类加载器实现热部署
其实就是不重启Java虚拟机的前提下，更新Class对象；  
这里首先要关注的是类的卸载，因为当加载该类的加载器被回收的时候，该Class会被卸载，根据这一特性，我们可以
这样来实现热部署： 

* 销毁自定义类加载器（被改加载器加载的类会被卸载）
* 更新最新的class
* 使用新的ClassLoader去加载更新后的class

